%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%% ICML 2017 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Use the following line _only_ if you're still using LaTeX 2.09.
%\documentstyle[icml2017,epsf,natbib]{article}
% If you rely on Latex2e packages, like most moden people use this:
\documentclass{article}

% use Times
\usepackage{times}
% For figures
\usepackage{graphicx} % more modern
%\usepackage{epsfig} % less modern
\usepackage{subfigure} 

% For citations
\usepackage{natbib}

% For algorithms
\usepackage{algorithm}
\usepackage{algorithmic}

% As of 2011, we use the hyperref package to produce hyperlinks in the
% resulting PDF.  If this breaks your system, please commend out the
% following usepackage line and replace \usepackage{icml2017} with
% \usepackage[nohyperref]{icml2017} above.
\usepackage{hyperref}

% Packages hyperref and algorithmic misbehave sometimes.  We can fix
% this with the following command.
\newcommand{\theHalgorithm}{\arabic{algorithm}}

% Employ the following version of the ``usepackage'' statement for
% submitting the draft version of the paper for review.  This will set
% the note in the first column to ``Under review.  Do not distribute.''
\usepackage{icml2017} 

% Employ this version of the ``usepackage'' statement after the paper has
% been accepted, when creating the final version.  This will set the
% note in the first column to ``Proceedings of the...''
%\usepackage[accepted]{icml2017}


% The \icmltitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:
\icmltitlerunning{Submission and Formatting Instructions for ICML 2017}

\begin{document} 

\twocolumn[
\icmltitle{Counterfactual Fairness}

% It is OKAY to include author information, even for blind
% submissions: the style file will automatically remove it for you
% unless you've provided the [accepted] option to the icml2017
% package.

% list of affiliations. the first argument should be a (short)
% identifier you will use later to specify author affiliations
% Academic affiliations should list Department, University, City, Region, Country
% Industry affiliations should list Company, City, Region, Country

% you can specify symbols, otherwise they are numbered in order
% ideally, you should not use this facility. affiliations will be numbered
% in order of appearance and this is the preferred way.
\icmlsetsymbol{equal}{*}

\begin{icmlauthorlist}
\icmlauthor{Cieua Vvvvv}{goo}
\icmlauthor{Iaesut Saoeu}{ed}

\end{icmlauthorlist}

\icmlaffiliation{goo}{Googol ShallowMind, New London, Michigan, USA}
\icmlaffiliation{ed}{University of Edenborrow, Edenborrow, United Kingdom}

\icmlcorrespondingauthor{Cieua Vvvvv}{c.vvvvv@googol.com}

% You may provide any keywords that you 
% find helpful for describing your paper; these are used to populate 
% the "keywords" metadata in the PDF but will not be shown in the document
\icmlkeywords{boring formatting information, machine learning, ICML}

\vskip 0.3in
]

% this must go after the closing bracket ] following \twocolumn[ ...

% This command actually creates the footnote in the first column
% listing the affiliations and the copyright notice.
% The command takes one argument, which is text to display at the start of the footnote.
% The \icmlEqualContribution command is standard text for equal contribution.
% Remove it (just {}) if you do not need this facility.

\printAffiliationsAndNotice{}  % leave blank if no need to mention equal contribution
%\printAffiliationsAndNotice{\icmlEqualContribution} % otherwise use the standard text.
%\footnotetext{hi}

\begin{abstract} 
TODO
\end{abstract} 

\section{Introduction}
\label{introduction}
\input{intro}
TODO

\section{Background}
\label{background}

\subsection{Fairness}

TODO

\subsection{Causal Models and Counterfactuals}

We will follow the framework of \cite{pearl:00}, where a causal
model is a triple $(U, V, F)$ of sets such that
\begin{itemize}
\item $U$ is a set of {\bf background} variables\footnote{These are
  sometimes called {\bf exogeneous variables}, but the fact that members of $U$
  might depend on each other is not relevant to what follows.}, which are generated by factors
outside of our potential control;
\item $V$ is a set of {\bf endogenous} variables, where each member is determined by
  other variables in $U \cup V$;
\item $F$ is a set of functions $\{f_1, \dots, f_n\}$, one for each $V_i \in V$, such
that $V_i = f_i(pa_i, U_{pa_i})$, $pa_i \subseteq V \backslash
\{V_i\}$ and $U_{pa_i} \subseteq U$. Such equations are also known as
{\bf structural equations} \citep{bol:89}.
\end{itemize}

The notation ``$pa_i$'' is motivated by the extra assumption that the
model factorizes according to a directed acyclic graph (DAG). That is,
define a directed graph $\mathcal G$ where each node corresponds to an
element of $U \cup V$, and each edge $V_i \leftarrow X$ is added if
and only if $X \in pa_i \cup U_{pa_i}$. We assume $\mathcal G$ is
acyclic.

The model is causal in the sense that, for a given probability model
$p(U)$ for the background variables, it entails the distribution of a
subset of $V$ given an {\bf intervention} in another subset of $V$.
The operational meaning of an intervention on $V_i$ at value $v$ is
the substitution of the equation $V_i = f_i(pa_i, U_{pa_i})$ with the
equation $V_i = v$. This captures the idea of an agent modifying a
system while being external to it. For instance, this can happen as a
randomized controlled trial that overrides the value of $V_i$ with a
treatment that sets it at $v$, a value chosen at random independently
of any other causes of the system. Pearl's do-calculus
\citep{pearl:00} provides a way of identifying features of 
interventional distributions, when possible, using only (estimates of) the joint
distribution of $V$ and the causal DAG.

Compared to independence constraints given by a DAG, the full
specification of $F$ requires much stronger assumptions but also leads
to much more specific claims. In particular, it allows for the
calculation of {\bf counterfactual} quantities. Without going into a
detailed coverage of the topic, consider the following counterfactual
statement, ``the value of $Y$ had $X$ been $x$'', for two endogenous
variables $X$ and $Y$ in a causal model. By assumption, the state of
any endogenous variable is fully determined by
the background variables and structural equations. The counterfactual is
modeled as the solution for $Y$ for a given $U = u$ where the equation(s)
for $X$ is (are) replaced with $X = x$.  We denote it by $Y_{X \leftarrow x}(u)$
\cite{pearl:00}.

Counterfactual inference, as specified by a causal model $(U, V, F)$,
is the computation of probabilities $P(Y_{X \leftarrow x}(U)\ |\ W =
w)$, where $W$, $X$ and $Y$ are subsets of $V$. Inference proceeds in
three steps, as explained in more detail in Chapter 4 of
\cite{pearl:16}:
\begin{enumerate}
\item For a given prior on $U$, compute the posterior distribution of $U$ given the evidence $W = w$;
\item Substitute the equations for $X$ with the interventional values $x$, resulting
     in the modified set of equations $F_x$;
\item Compute the implied distribution on the remaining elements of $V$
     using $F_x$ and the posterior $P(U\ | W = w)$.
\end{enumerate}

\section{Counterfactual Fairness}
\label{sec:count_fair}

\subsection{Definition}

TODO. Here the main definition is introduced, and how it relates to ``path deletion'',
including the core example of $A \rightarrow X \rightarrow Y$, with two latent
variables $U_x \rightarrow X$ and $U_y \rightarrow Y$, arguing that one might judge
that the path from $A$ to $Y$ via is due to an unfair mechanism and that we need a
notion of ``closest world''.

\subsection{Other Examples}

TODO. Here the examples and their motivation can be as follows:

\begin{itemize}
\item something analogous to the red car example: $A$ is not a cause of
  $Y$ but might indirectly bias the result even without using $A$ as a predictor;
\item something with selection bias, maybe a toy version of COMPAS;
\item something where an unfair judgement (say, credit score) that can be potentially
  considered as a target variable, and an
  ``objective target'' (say, defaulting on a loan) are present, and
  what the recommendation is
\end{itemize}

\section{Methods and Assessment}
\label{sec:methods}

TODO. General recipe on how to put a model together, including the practical
issues of $U$ and $A$ being dependent due to randomness of $U$.

\subsection{Special Cases}

Talk about linear models, including those based on PCA/ICA.

\subsection{Criticisms}

TODO. Criticism on difficulty of untestability of assumptions.
More on assumptions used by other methods, including causal
estimation methods based on additive error models.

\section{Experiments}

TODO

\section{Conclusion}

TODO

\bibliography{rbas}
\bibliographystyle{icml2017}

\end{document} 


% This document was modified from the file originally made available by
% Pat Langley and Andrea Danyluk for ICML-2K. This version was
% created by Lise Getoor and Tobias Scheffer, it was slightly modified  
% from the 2010 version by Thorsten Joachims & Johannes Fuernkranz, 
% slightly modified from the 2009 version by Kiri Wagstaff and 
% Sam Roweis's 2008 version, which is slightly modified from 
% Prasad Tadepalli's 2007 version which is a lightly 
% changed version of the previous year's version by Andrew Moore, 
% which was in turn edited from those of Kristian Kersting and 
% Codrina Lauth. Alex Smola contributed to the algorithmic style files.  
